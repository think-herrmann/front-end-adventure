#### Summary

This RFC explains our proposed approach to asset management in the Component Library, as defined around the following two main image format types:
  * vector graphics formats (SVG, etc.)
  * raster graphics formats (JPG, PNG, etc.)

As many graphics as possible should be SVGs, but for the _very_ few situations where SVGs are not the best-suited file type, the images folder should be copied from the Component Library into an 'assets' folder within the application.

#### Motivation

The goal is to have the Component Library be the dedicated "single source of truth" for all reusable components across our application suite. This isn't currently happening because components that include images (such as the logo, loading gif, etc.) end up with broken image links when imported into an application. Once we implement this solution, we will be able to use (and perhaps more importantly, update) SVG image-related components everywhere via the Component Library.

#### Guide-Level Explanation

As many graphics as possible should be SVGs – this is the file type that will provide the highest quality and most flexibility for the types of graphics that the Herrmann brand most commonly uses: illustrations, logos, shapes, and icons.

For the _very_ few situations where SVGs are not the best-suited file type (ex. the portraits in the Great Brains activity), the images folder should be manually copied from the Component Library into an 'assets' folder within the application. Because these files will need to be updated manually (as opposed to simply updating the Component Library) and because non-SVG formats are not ideal for our most-commonly used styles of images, the use of any raster graphics formats within components in the Component Library should be carefully considered and alternatives should be explored.

Once the Component Library has been adjusted to replace raster images with SVGs wherever possible, developers will be able to place these components into other applications (with no additional action needed) and the SVGs will embed directly into the document. In the rare cases where raster images are still being used in the Component Library, we will note this in the component "story" description in Storybook, as well as in code comments within the component itself so the developer is aware that they'll need to manually copy the image asset folder out of the Library and into their application.  

#### Reference-Level Explanation

To implement this, we'll begin by conducting an audit of the existing Component Library to find any components where images are being used. Note that this does not include components using icons imported from the FontAwesome library (Clusters, Alert Bar) or components importing other image components (Walkaround, Quadrant Labels). During this audit, we have 3 main goals:

1. Identifying places where any images are being used (raster or vector). Currently, we are aware of the following:
  * Great Brain Portrait
  * Logo & Wordmark
  * Header  
  * Loading Gif
  * Profile Map
  * Radar Chart
  * Quadrant Icons

2. Double checking that all SVGs are actually SVGs – we are aware of at least a few situations (in the Great Brains Portraits) where an image has the .SVG file extension, but is just a JPEG or PNG placed into an SVG and saved as that file type. Because this solution is dependent on the direct embedding of the SVG code into the page (not just a particular file type extension) this will cause issues. For that reason, we have to be careful not to just skim over images that have an .SVG extension.

3. Creating a list of components that _absolutely require_ raster images (currently, we are only aware of Great Brains and potentially the Header) and a list of components where the images should be changed to SVGs.

Once we have this list, we'll edit the notes of the Component Library components that require raster images to add a disclaimer for developers about the need to copy the images folder.

For the images that should be SVGs, we'll first check the Google Drive to see if SVG versions of that graphic already exist – if so, it's a simple replacement. If not, we'll need to write stories for recreating the raster graphics as SVGs. In most cases, the graphics are simple enough that this shouldn't be too difficult – the main exception to this is the animated Loading Gif (which will also be the graphic which likely benefits the most from the upgrade in quality that rebuilding as a vector will provide).

#### Drawbacks

Replacing or recreating the raster images with SVGs and updating the Component Library in the applications that call it will take time.

Manually copying the image assets folder for components that require raster images (and remembering to update them in both the Component Library and the application they're used in) is inconvenient.

#### Rationale & Alternatives

One of the primary alternatives we looked at was the use of a modern-day "sprite sheet" –  a single image file that includes several smaller graphics in a grid, then uses width and height restrictions on the front-end to only show the specific portion of that larger image that contains the graphic you want. However, sprite sheets are a little clunky to work with and would be difficult for other developers to make changes to without access to image-editing software (such as Adobe Illustrator or Photoshop) – on the other hand, SVGs can be embedded directly into the page and minor changes can be made in the code editor with no additional software needed.

#### Prior Art

We did some general exploration around the Design Systems used by other companies, to see if we could figure out how they were handling asset management. Most often, we saw SVGs directly embedded in the page. We looked at the following Design Systems and their accompanying websites:
  * https://polaris.shopify.com/
  * https://atlassian.design/
  * https://design.firefox.com/photon/motion/principles.html
  * https://www.carbondesignsystem.com/

#### Unresolved Questions

The Header component currently includes an SVG that's being used as a background image; because the image needs to be called in the CSS, it can't be embedded directly into the page in the same way we're planning to handle the other SVGs. We could treat this as a raster image, and require the image to be copied into any application where it's used – however, because this is the Header and we expect that it will be (eventually) used in multiple places across our entire application suite, that approach is especially inconvenient. At this point, we'd like to do a little more research on the best way to handle this outlier.  

#### Future Possibilities

At this time, we are functioning under the assumption that we won't have many new raster image assets – as a brand, we have moved away from photography and towards illustrations and icons. If, at some point, this is no longer the case, we would need to re-assess this method.
